{"version":3,"file":"reddit.js","sources":["../../src/providers/reddit.ts"],"sourcesContent":["import { OAuth2Provider } from \"./oauth2\";\nconst redditProfileHandler = ({ is_employee, has_external_account, snoovatar_img, verified, id, over_18, is_gold, is_mod, awarder_karma, has_verified_email, is_suspended, icon_img, pref_nightmode, awardee_karma, password_set, link_karma, total_karma, name, created, created_utc, comment_karma, }) => ({\n    is_employee,\n    has_external_account,\n    snoovatar_img,\n    verified,\n    id,\n    over_18,\n    is_gold,\n    is_mod,\n    awarder_karma,\n    has_verified_email,\n    is_suspended,\n    icon_img,\n    pref_nightmode,\n    awardee_karma,\n    password_set,\n    link_karma,\n    total_karma,\n    name,\n    created,\n    created_utc,\n    comment_karma,\n});\nconst defaultConfig = {\n    id: \"reddit\",\n    scope: \"identity\",\n    profile: redditProfileHandler,\n    authorizationUrl: \"https://www.reddit.com/api/v1/authorize\",\n    accessTokenUrl: \"https://www.reddit.com/api/v1/access_token\",\n    profileUrl: \"https://oauth.reddit.com/api/v1/me\",\n    contentType: \"application/x-www-form-urlencoded\",\n};\nexport class RedditOAuth2Provider extends OAuth2Provider {\n    constructor(config) {\n        super({\n            ...defaultConfig,\n            ...config,\n            clientId: config.apiKey,\n            clientSecret: config.apiSecret,\n            headers: {\n                ...config.headers,\n                Authorization: \"Basic \" + Buffer.from(`${config.apiKey}:${config.apiSecret}`).toString(\"base64\"),\n            },\n            authorizationParams: {\n                ...config.authorizationParams,\n                duration: config.duration ?? \"temporary\",\n            },\n        });\n    }\n    static profileHandler = redditProfileHandler;\n}\n"],"names":[],"mappings":";;;;;AACA,MAAM,oBAAoB,GAAG,CAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,aAAa,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,kBAAkB,EAAE,YAAY,EAAE,QAAQ,EAAE,cAAc,EAAE,aAAa,EAAE,YAAY,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,aAAa,EAAE,MAAM;AAC5S,EAAE,WAAW;AACb,EAAE,oBAAoB;AACtB,EAAE,aAAa;AACf,EAAE,QAAQ;AACV,EAAE,EAAE;AACJ,EAAE,OAAO;AACT,EAAE,OAAO;AACT,EAAE,MAAM;AACR,EAAE,aAAa;AACf,EAAE,kBAAkB;AACpB,EAAE,YAAY;AACd,EAAE,QAAQ;AACV,EAAE,cAAc;AAChB,EAAE,aAAa;AACf,EAAE,YAAY;AACd,EAAE,UAAU;AACZ,EAAE,WAAW;AACb,EAAE,IAAI;AACN,EAAE,OAAO;AACT,EAAE,WAAW;AACb,EAAE,aAAa;AACf,CAAC,CAAC,CAAC;AACH,MAAM,aAAa,GAAG;AACtB,EAAE,EAAE,EAAE,QAAQ;AACd,EAAE,KAAK,EAAE,UAAU;AACnB,EAAE,OAAO,EAAE,oBAAoB;AAC/B,EAAE,gBAAgB,EAAE,yCAAyC;AAC7D,EAAE,cAAc,EAAE,4CAA4C;AAC9D,EAAE,UAAU,EAAE,oCAAoC;AAClD,EAAE,WAAW,EAAE,mCAAmC;AAClD,CAAC,CAAC;AACK,MAAM,oBAAoB,SAAS,cAAc,CAAC;AACzD,EAAE,WAAW,CAAC,MAAM,EAAE;AACtB,IAAI,KAAK,CAAC;AACV,MAAM,GAAG,aAAa;AACtB,MAAM,GAAG,MAAM;AACf,MAAM,QAAQ,EAAE,MAAM,CAAC,MAAM;AAC7B,MAAM,YAAY,EAAE,MAAM,CAAC,SAAS;AACpC,MAAM,OAAO,EAAE;AACf,QAAQ,GAAG,MAAM,CAAC,OAAO;AACzB,QAAQ,aAAa,EAAE,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC;AACxG,OAAO;AACP,MAAM,mBAAmB,EAAE;AAC3B,QAAQ,GAAG,MAAM,CAAC,mBAAmB;AACrC,QAAQ,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,WAAW;AAChD,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH,CAAC;AACD,oBAAoB,CAAC,cAAc,GAAG,oBAAoB;;;;"}